/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 05-03-2017
///		Date update	: 11-03-2017
///		Comment		:
/// ============================================================================

#include "treeview_fileinfo.h"
#include "treeitem.h"

namespace cfmc
{

namespace monitoring
{
/// ############################################################################
///			class treeview_files_info
/// ############################################################################

    /// ========================================================================
    ///		CONSTRUCTORS/DESTRUCTOR
    /// ========================================================================

    /// ------------------------------------------------------------------------
    ///	treeview_files_info( )
    /// ------------------------------------------------------------------------
    treeview_fileinfo::treeview_fileinfo(QWidget *parent) :
        QTreeView(parent)
    {
        this->initialize( );
    }
    /// ------------------------------------------------------------------------
    ///	~treeview_files_info( )
    /// ------------------------------------------------------------------------
    treeview_fileinfo::~treeview_fileinfo( )
    {

    }
    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================

    /// ========================================================================
    ///		FUNCTIONS
    /// ========================================================================

    /// ------------------------------------------------------------------------
    ///	initialize( )
    /// ------------------------------------------------------------------------
    void treeview_fileinfo::initialize( )
    {
        this->_model = new treemodel_fileinfo( "" );
        this->setModel( this->_model );
    }

    void treeview_fileinfo::append(list_fileinfo *list)
    {
        if( list == nullptr || !list->count() )
        {
            return;
        }
        this->_model->root()->remove_children( );
        while( list->count( ) )
        {
            TreeItem *item  = list->front();
            this->_model->root()->appendChild(item);
            list->pop_front( );
        }
        delete list;
        list = nullptr;
    }

    /// ========================================================================
    ///		SLOTS
    /// ========================================================================

}//namespace monitoring

}//namespace cfmc

/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 04-03-2017
///		Date update	: 08-03-2017
///		Comment		:
/// ============================================================================
#ifndef __TREEVIEW_FILESYSTEM_H__
#define __TREEVIEW_FILESYSTEM_H__

#include <QWidget>
#include <QTreeView>
#include <QFileSystemModel>

namespace cfmc
{

namespace monitoring
{

/// ############################################################################
///			class treeview_filesystem
/// ############################################################################
    class treeview_filesystem : public QTreeView
    {
        Q_OBJECT
    /// ========================================================================
    ///		CONSTRUCTORS/DESTRUCTOR
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        treeview_filesystem( const treeview_filesystem &rhs );

    public:
        /// --------------------------------------------------------------------
        explicit treeview_filesystem(QWidget *parent = 0);
        /// --------------------------------------------------------------------
        virtual ~treeview_filesystem( );

    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
    public:
        /// --------------------------------------------------------------------
        /// path_root
        /// --------------------------------------------------------------------
        const QString& path_root( ) const
        {
            return this->_s_path_root;
        }

        void path_root( const QString& );

        /// --------------------------------------------------------------------
        /// path_current
        /// --------------------------------------------------------------------
        QString path_current( const QModelIndex& index ) const;
        QString path_current( ) const;

    /// ========================================================================
    ///		FUNCTIONS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        void initialize( );
        void init_connections( );
        void init_model();
        void select_home_path();


    /// ========================================================================
    ///		OPERATORS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        treeview_filesystem& operator=( const treeview_filesystem &rhs );

    /// ========================================================================
    ///		SLOTS
    /// ========================================================================
    private:
        void resize_column_to_contents( );

    /// ========================================================================
    ///			FIELDS
    /// ========================================================================
    private:
        QString _s_path_root;
        QFileSystemModel *_fs_model = nullptr;

    };//class treeview_filesystem
/// ############################################################################
/// ----------------------------------------------------------------------------

}//namespace monitoring

}//namespace cfmc

#endif // __TREEVIEW_FILESYSTEM_H__

